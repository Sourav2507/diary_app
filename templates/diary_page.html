<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>{{ diary_title }}</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <!-- Background image -->
    <div
      class="fixed inset-0 bg-cover bg-center opacity-10 z-0"
      style="background-image: url('{{ background_image_url }}');"
    ></div>

    <div class="relative flex min-h-screen flex-col bg-white z-10" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
      <!-- Header -->
      <header class="border-b border-solid border-[#f1f2f4] px-10 py-3">
        <div class="flex items-center gap-4 text-[#121417]">
          <div class="size-4">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                fill="currentColor"
              ></path>
            </svg>
          </div>
          <h2 class="text-lg font-bold leading-tight tracking-[-0.015em]">{{ diary_title }}</h2>
        </div>
      </header>

      <!-- Content -->
      <main class="px-6 sm:px-40 py-5 flex-1">
        <div class="max-w-[960px] mx-auto">
          <!-- Previous Entries -->
          {% for entry in entries %}
          <div class="flex gap-4 bg-white px-4 py-3 rounded-lg shadow mb-4">
            <div class="flex-1">
              <p class="text-[#121417] text-base font-medium leading-normal">{{ entry.date }}</p>
              <p class="text-[#677583] text-sm font-normal leading-relaxed mt-1">{{ entry.content }}</p>
            </div>
          </div>
          {% endfor %}

          <!-- New Entry -->
          <form method="POST" action="/add_entry/{{ diary_id }}">
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <textarea
                  name="content"
                  placeholder="What's on your mind?"
                  required
                  class="form-input w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#121417] focus:outline-0 focus:ring-0 border border-[#dde0e4] bg-white focus:border-[#5e92c9] min-h-36 placeholder:text-[#677583] p-[15px] text-base font-normal leading-normal"
                ></textarea>
              </label>
            </div>
            <div class="flex px-4 py-3 justify-end">
              <button
                type="submit"
                class="flex min-w-[84px] max-w-[480px] items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#357dc9] text-white text-sm font-bold leading-normal tracking-[0.015em]"
              >
                <span class="truncate">Save</span>
              </button>
            </div>
          </form>
        </div>
      </main>
    </div>
  </body>
</html>
